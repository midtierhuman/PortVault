<h2 mat-dialog-title>Edit Transaction</h2>

<mat-dialog-content>
  <div class="form-grid">
    <mat-form-field>
      <mat-label>Symbol</mat-label>
      <input
        matInput
        [value]="transaction().symbol"
        (input)="updateField('symbol', $any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>ISIN</mat-label>
      <input
        matInput
        [value]="transaction().isin"
        (input)="updateField('isin', $any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Trade Type</mat-label>
      <mat-select
        [value]="transaction().tradeType"
        (selectionChange)="updateField('tradeType', $event.value)"
      >
        @for (type of tradeTypes; track type) {
        <mat-option [value]="type">{{ type }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Quantity</mat-label>
      <input
        matInput
        type="number"
        [value]="transaction().quantity"
        (input)="updateField('quantity', +$any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Price</mat-label>
      <input
        matInput
        type="number"
        step="0.01"
        [value]="transaction().price"
        (input)="updateField('price', +$any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Segment</mat-label>
      <mat-select
        [value]="transaction().segment"
        (selectionChange)="updateField('segment', $event.value)"
      >
        @for (seg of segments; track seg) {
        <mat-option [value]="seg">{{ seg }}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Series</mat-label>
      <input
        matInput
        [value]="transaction().series"
        (input)="updateField('series', $any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Trade Date</mat-label>
      <input
        matInput
        type="datetime-local"
        [value]="transaction().tradeDate"
        (input)="updateField('tradeDate', $any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Order Execution Time</mat-label>
      <input
        matInput
        type="datetime-local"
        [value]="transaction().orderExecutionTime"
        (input)="updateField('orderExecutionTime', $any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Trade ID</mat-label>
      <input
        matInput
        type="number"
        [value]="transaction().tradeID"
        (input)="updateField('tradeID', +$any($event.target).value)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Order ID</mat-label>
      <input
        matInput
        type="number"
        [value]="transaction().orderID"
        (input)="updateField('orderID', +$any($event.target).value)"
      />
    </mat-form-field>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onSave()">Save</button>
</mat-dialog-actions>
